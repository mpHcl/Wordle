@page "/new-game"
@using System.Security.Cryptography
@using Client.Pages.Components.Wordle

<PageTitle>New game</PageTitle>

<div class="container">
    @if (newGame != null)
    {
        <header>
            <h1>New game</h1>
            <p class="sub">
                Guess the 5-letter word. You have <strong>6</strong> tries. 
                @if (newGame.Category != "NoHintsMode")
                {
                    <span> Category: <strong>@newGame.Category</strong></span>
                }
            </p>
        </header>

        <main>
            @* <WordleGame GameDto=@newGame.GameId /> *@
            <footer>
                <small>Local demo — replace the in-file wordlist with server-driven daily words for production.</small>
            </footer>
        </main>
    }
    else
    {
        <p>Loading new game...</p>
    }
</div>

<style>
    .container {
        max-width: 720px;
        margin: 1.5rem auto;
        padding: 1rem;
        font-family: system-ui, -apple-system, "Segoe UI", Roboto;
    }

    header {
        text-align: center;
        margin-bottom: 1rem;
    }

</style>

@code {
    public class GameInfo
    {
        public int GameId { get; set; }
        public string Category { get; set; } = string.Empty;
    }

    GameInfo newGame = new GameInfo();

    protected override void OnInitialized()
    {
        newGame = GetNewGame();
    }

    GameInfo GetNewGame()
    {
        return new GameInfo { GameId = 1221, Category = "Nature" };
    }
}